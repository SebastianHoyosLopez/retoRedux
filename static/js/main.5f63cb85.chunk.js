(this.webpackJsonpshoppingcart=this.webpackJsonpshoppingcart||[]).push([[0],{46:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(21),s=a.n(r),o=(a(46),a(12)),i=a(41),u=a(18),d=a(17),l=a.n(d),b=a(23),j=a(38),O=a.n(j),p=a(1),m=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(1),s=Object(u.a)(r,2),o=s[0],i=s[1],d=Object(c.useState)(),j=Object(u.a)(d,2),m=j[0],h=j[1];return Object(c.useEffect)((function(){function e(){return(e=Object(b.a)(l.a.mark((function e(){var t,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://dev2.th3insid3.com/api/products?page=".concat(o));case 2:t=e.sent,a=t.data.products,n(a),c=t.data.paginatorInfo.hasMorePages,h(c),console.log(t.data.paginatorInfo);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),Object(p.jsxs)("div",{className:"container text-center mt-4",children:[Object(p.jsx)("h1",{children:"Product List"}),Object(p.jsxs)("div",{className:"d-flex justify-content-around mt-5",children:[o>1&&Object(p.jsx)("button",{onClick:function(){i(o-1)},className:"btn btn-dark btn-sm",children:"Anterior"}),m&&Object(p.jsx)("button",{onClick:function(){i(o+1)},className:"btn btn-dark btn-sm mx-3",children:"Sigiente"})]}),Object(p.jsx)("div",{className:"row",children:a.map((function(e){return Object(p.jsx)("div",{className:"col-md-6 col-lg-3 my-5",style:{height:"350px"},children:Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("img",{src:e.image,className:"card-img-top",alt:e.name}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:e.name}),Object(p.jsxs)("p",{children:["Price: ",e.price]}),Object(p.jsx)("button",{className:"btn btn-dark",children:"Add to cart"})]})]})},e.id)}))})]})},h=a(13),x=a(24);a(71);x.a.initializeApp({apiKey:"AIzaSyASH7P6ubcU1hF9xj-lJRjne99ugk7Xm8A",authDomain:"reto-proyecto-redux.firebaseapp.com",projectId:"reto-proyecto-redux",storageBucket:"reto-proyecto-redux.appspot.com",messagingSenderId:"672365176151",appId:"1:672365176151:web:ea0d3f32dafab9a35fca12",measurementId:"G-2SR68SEWNG"});var g=x.a.auth(),f={loading:!1,activo:!1},v="LOADING",N="USUARIO_ERROR",S="USUARIO_EXITO",y="SIGNOUT";var I=a(4),k=Object(I.g)((function(e){var t=Object(h.b)(),a=Object(h.c)((function(e){return e.usuario.loading})),c=Object(h.c)((function(e){return e.usuario.activo}));return n.a.useEffect((function(){c&&e.history.push("/")}),[c]),Object(p.jsxs)("div",{className:"mt-5 text-center",children:[Object(p.jsx)("h3",{children:"ingresar Con Google"}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{className:"btn btn-dark",onClick:function(){return t(function(){var e=Object(b.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v}),e.prev=1,a=new x.a.auth.GoogleAuthProvider,e.next=5,g.signInWithPopup(a);case 5:c=e.sent,t({type:S,payload:{uid:c.user.uid,email:c.user.email,nombre:c.user.displayName}}),localStorage.setItem("user",JSON.stringify({uid:c.user.uid,email:c.user.email,nombre:c.user.displayName})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t({type:N});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())},disabled:a,children:"Acceder"})]})})),w=a(14),A=Object(I.g)((function(e){var t=Object(h.b)(),a=function(){t((function(e){g.signOut(),localStorage.removeItem("user"),e({type:y})})),e.history.push("/login")},c=Object(h.c)((function(e){return e.usuario.activo})),n=Object(h.c)((function(e){return e.usuario.user}));return Object(p.jsxs)("div",{className:"navbar navbar-dark bg-dark",children:[c?Object(p.jsx)(w.b,{className:"navbar-brand mx-4",to:"/",children:n.nombre}):Object(p.jsx)(w.b,{className:"navbar-brand mx-4",to:"/",children:"Redux Challenge"}),c?Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)(w.c,{className:"btn btn-dark mr-2",to:"/",exact:!0,children:"Inicio"}),Object(p.jsx)("button",{className:"btn btn-dark mr-2",onClick:function(){return a()},children:"Salir"})]}):Object(p.jsx)(w.c,{className:"btn btn-dark mr-2",to:"/login",exact:!0,children:"Login"})]})})),E=function(){var e=n.a.useState(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];n.a.useEffect((function(){g.onAuthStateChanged((function(e){console.log(e),c(e||null)}))}),[]);var r=function(e){var t=e.component,c=e.path,n=Object(i.a)(e,["component","path"]);return localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).uid===a.uid?Object(p.jsx)(I.b,Object(o.a)({component:t,path:c},n)):Object(p.jsx)(I.a,Object(o.a)({to:"/login"},n))};return!1!==a?Object(p.jsx)(w.a,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(A,{}),Object(p.jsxs)(I.d,{children:[Object(p.jsx)(r,{component:m,path:"/",exact:!0}),Object(p.jsx)(I.b,{component:k,path:"/login",exact:!0})]})]})}):Object(p.jsx)("div",{children:"Cargando..."})},C=a(15),R=a(40),_=Object(C.c)({usuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case N:return Object(o.a)({},f);case S:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,activo:!0,user:t.payload});case y:return Object(o.a)({},f);default:return Object(o.a)({},e)}}}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d;var U=function(){var e,t=Object(C.e)(_,P(Object(C.a)(R.a)));return e=t.dispatch,localStorage.getItem("user")&&e({type:S,payload:JSON.parse(localStorage.getItem("user"))}),t}();s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(h.a,{store:U,children:Object(p.jsx)(E,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5f63cb85.chunk.js.map