{"version":3,"sources":["components/Products.jsx","firebase.js","redux/UsuarioDucks.js","components/Login.jsx","components/Navbar.jsx","App.jsx","redux/store.js","index.js"],"names":["Products","useState","products","setProducts","currentPage","setCurrentPage","hasMoreCount","setHasMoreCount","useEffect","a","axios","get","response","data","hasMorePages","paginatorInfo","console","log","fetchData","className","onClick","map","style","height","src","image","alt","name","price","id","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","initialData","loading","activo","LOADING","USUARIO_ERROR","USUARIO_EXITO","SIGN_OUT","withRouter","props","dispatch","useDispatch","useSelector","store","usuario","React","history","push","type","provider","GoogleAuthProvider","signInWithPopup","res","payload","uid","user","email","nombre","displayName","localStorage","setItem","JSON","stringify","disabled","SignO","signOut","removeItem","to","exact","App","component","path","Login","rootReducer","combineReducers","state","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","getItem","parse","generateStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.063d716a.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [hasMoreCount, setHasMoreCount] = useState();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const response = await axios.get(\r\n        `https://dev2.th3insid3.com/api/products?page=${currentPage}`\r\n      );\r\n      const products = response.data.products;\r\n      setProducts(products);\r\n      const hasMorePages = response.data.paginatorInfo.hasMorePages;\r\n      setHasMoreCount(hasMorePages);\r\n      console.log(response.data.paginatorInfo);\r\n    }\r\n    fetchData();\r\n  }, [currentPage]);\r\n\r\n  return (\r\n    <div className=\"container text-center mt-4\">\r\n      <h1>Product List</h1>\r\n      <div className=\"d-flex justify-content-around mt-5\">\r\n        {currentPage > 1 && (\r\n          <button\r\n            onClick={() => {\r\n              setCurrentPage(currentPage - 1);\r\n            }}\r\n            className=\"btn btn-dark btn-sm\"\r\n          >\r\n            Anterior\r\n          </button>\r\n        )}\r\n        {hasMoreCount && (\r\n          <button\r\n            onClick={() => {\r\n              setCurrentPage(currentPage + 1);\r\n            }}\r\n            className=\"btn btn-dark btn-sm mx-3\"\r\n          >\r\n            Sigiente\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className=\"row\">\r\n        {products.map((products) => (\r\n          <div key={products.id} className=\"col-md-6 col-lg-3 my-5\" style={{height:\"350px\"}}>\r\n            <div className=\"card\">\r\n              <img\r\n                src={products.image}\r\n                className=\"card-img-top\"\r\n                alt={products.name}\r\n              />\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{products.name}</h5>\r\n                <p>Price: {products.price}</p>\r\n                <button className=\"btn btn-dark\">Add to cart</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyASH7P6ubcU1hF9xj-lJRjne99ugk7Xm8A\",\r\n  authDomain: \"reto-proyecto-redux.firebaseapp.com\",\r\n  projectId: \"reto-proyecto-redux\",\r\n  storageBucket: \"reto-proyecto-redux.appspot.com\",\r\n  messagingSenderId: \"672365176151\",\r\n  appId: \"1:672365176151:web:ea0d3f32dafab9a35fca12\",\r\n  measurementId: \"G-2SR68SEWNG\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth()\r\n\r\nexport { auth, firebase }","import { auth, firebase } from \"../firebase\";\r\n\r\n// constantes\r\n\r\nconst initialData = {\r\n  loading: false,\r\n  activo: false,\r\n};\r\n\r\n//type\r\nconst LOADING = \"LOADING\";\r\nconst USUARIO_ERROR = \"USUARIO_ERROR\";\r\nconst USUARIO_EXITO = \"USUARIO_EXITO\";\r\nconst SIGN_OUT = \"SIGNOUT\";\r\n\r\n\r\n// reducer\r\nexport default function usuarioReducer(state = initialData, action) {\r\n  switch (action.type) {\r\n    case LOADING:\r\n      return { ...state, loading: true };\r\n    case USUARIO_ERROR:\r\n      return { ...initialData };\r\n    case USUARIO_EXITO:\r\n      return { ...state, loading: false, activo: true, user: action.payload };\r\n    case SIGN_OUT:\r\n      return{...initialData}\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\r\n// action\r\n\r\nexport const loginUserAction = () => async (dispatch) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n  try {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const res = await auth.signInWithPopup(provider);\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: {\r\n        uid: res.user.uid,\r\n        email: res.user.email,\r\n        nombre: res.user.displayName,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      \"user\",\r\n      JSON.stringify({\r\n        uid: res.user.uid,\r\n        email: res.user.email,\r\n        nombre: res.user.displayName,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: USUARIO_ERROR,\r\n    });\r\n  }\r\n};\r\n\r\nexport const activeUserAction = () => (dispatch) => {\r\n  if (localStorage.getItem(\"user\")) {\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(\"user\")),\r\n    });\r\n  }\r\n};\r\n\r\nexport const signOut = () => (dispatch) => {\r\n  auth.signOut()\r\n  localStorage.removeItem('user')\r\n  dispatch({\r\n    type: SIGN_OUT\r\n  })\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { loginUserAction } from \"../redux/UsuarioDucks\";\r\n\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nconst Login = (props) => {\r\n  const dispatch = useDispatch();\r\n  const loading = useSelector(store => store.usuario.loading)\r\n  const activo = useSelector(store => store.usuario.activo)\r\n  \r\n  React.useEffect(() => {\r\n    if(activo){\r\n      props.history.push('/')\r\n    }\r\n  },[activo])\r\n\r\n  return (\r\n    <div className=\"mt-5 text-center\">\r\n      <h3>ingresar Con Google</h3>\r\n      <hr />\r\n      <button\r\n        className=\"btn btn-dark\"\r\n        onClick={() => dispatch(loginUserAction() )}\r\n        disabled={loading}\r\n      >\r\n        Acceder\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { signOut } from \"../redux/UsuarioDucks\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const SignO = () => {\r\n    dispatch(signOut());\r\n    props.history.push(\"/login\");\r\n  };\r\n\r\n  const activo = useSelector((store) => store.usuario.activo);\r\n  const user = useSelector((store) => store.usuario.user);\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark\">\r\n      {activo ? (\r\n        <Link className=\"navbar-brand mx-4\" to=\"/\">\r\n          {user.nombre}\r\n        </Link>\r\n      ) : (\r\n        <Link className=\"navbar-brand mx-4\" to=\"/\">\r\n          Redux Challenge\r\n        </Link>\r\n      )}\r\n      {activo ? (\r\n        <div className=\"d-flex\">\r\n          <NavLink className=\"btn btn-dark mr-2\" to=\"/\" exact>\r\n            Inicio\r\n          </NavLink>\r\n          <button className=\"btn btn-dark mr-2\" onClick={() => SignO()}>\r\n            Salir\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <NavLink className=\"btn btn-dark mr-2\" to=\"/login\" exact>\r\n          Login\r\n        </NavLink>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import React from \"react\";\nimport Products from \"./components/Products.jsx\";\nimport Login from \"./components/Login.jsx\";\nimport Navbar from \"./components/Navbar.jsx\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nconst App = () => {\n  return (\n    <Router>\n      <div>\n        <Navbar />\n        <Switch>\n          <Route component={Products} path=\"/\" exact  />\n          <Route component={Login} path=\"/login\" exact  />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import {createStore, combineReducers, compose, applyMiddleware} from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport usuarioReducer, {activeUserAction} from './UsuarioDucks'\r\n\r\nconst rootReducer = combineReducers({\r\n    usuario: usuarioReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function generateStore(){\r\n    const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk) ))\r\n    activeUserAction()(store.dispatch)\r\n    return store;\r\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nimport { Provider } from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nconst store = generateStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}